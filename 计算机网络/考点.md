# 计算机网络核心考点笔记

## 一、 网络概述与组成
### 1. 三大类网络（三网融合）
* **电信网络**：提供传统语音服务。
* **有线电视网络**：提供视频节目传输。
* **计算机网络**：核心是数据通信和资源共享，发展最快。

### 2. 互联网的组成
* **边缘部分**：由所有连接在互联网上的**主机**组成。
* **核心部分**：由大量网络和连接这些网络的**路由器**组成。

### 3. 电路交换 (Circuit Switching)
* **过程**：建立连接 $\rightarrow$ 通话 $\rightarrow$ 释放连接。
* **特点**：在通话的全部时间内，通话的两个用户始终占用端到端的通信资源。
* **缺点**：当使用电路交换来传送计算机数据时，其线路的传输效率往往很低。

---

## 二、 网络的分类
### 1. 按照网络作用范围分类
| 英文缩写 | 全称 | 中文名称 |
| :--- | :--- | :--- |
| **WAN** | Wide Area Network | 广域网 |
| **MAN** | Metropolitan Area Network | 城域网 |
| **LAN** | Local Area Network | 局域网 |
| **PAN** | Personal Area Network | 个人区域网 |

### 2. 按照网络使用者分类
* **公用网**
* **专用网**

---

## 三、 网络性能指标
### 1. 速率、带宽与吞吐量
* **速率**：指数据的传输快慢，即单位时间内传输的比特（bit）数量。单位为 $bit/s$，记作 **bps**。
* **带宽**：
    * **通信领域**：指信号所占据的频率范围，单位是**赫兹 (Hz)**。
    * **计算机网络**：指信道的最高数据传输速率（发送能力），单位是 **bps**。
    * *直观理解*：带宽就像高速公路的车道宽度。车道越多，单位时间内通过的车辆上限越高。
* **吞吐量**：指单位时间内成功传送的数据量。受到网络拥塞等影响，**吞吐量永远小于或等于带宽**。

### 2. 总时延 (Total Delay)

$$
\text{总时延} = \text{发送时延} + \text{传播时延} + \text{处理时延} + \text{排队时延}
$$

| 时延组成 | 详细定义 |
| :--- | :--- |
| **发送时延** | 主机或路由器发送数据帧所需时间，即把所有比特“推”向媒体的时间。 |
| **传播时延** | 电磁波在信道中（如光纤）传播一定距离所需的时间。 |
| **处理时延** | 主机或路由器在收到分组时，为处理分组所花费的时间。 |
| **排队时延** | 分组在路由器的输入/输出队列中等待处理或转发的时间。 |

---

## 四、 五层协议体系结构


| 层级 | 层名称 (Layer) | 主要功能 | 对应数据单元 | 典型协议/实例 |
| :--- | :--- | :--- | :--- | :--- |
| **第 5 层** | **应用层** (Application) | 直接为用户的应用进程提供服务 | 报文 | HTTP, FTP, DNS, SMTP, Telnet |
| **第 4 层** | **运输层** (Transport) | 负责主机中两个进程之间的通用数据传输 | 报文段 / 用户数据报 | TCP, UDP |
| **第 3 层** | **网络层** (Network) | 负责为分组交换网上的不同主机提供通信服务，路由选择 | IP数据报 | IP, ICMP, OSPF, ARP |
| **第 2 层** | **数据链路层** (Data Link) | 在相邻节点之间传送数据帧，错误检测与纠正 | 帧 | PPP, Ethernet, VLAN (802.1Q) |
| **第 1 层** | **物理层** (Physical) | 透明地传送比特流，规定接口的物理特性 | 比特 | 光纤、双绞线、调制解调器 |

### 网络协议三要素
1.  **语法**：数据与控制信息的结构或格式。
2.  **语义**：需要发出何种控制信息，完成何种动作。
3.  **同步**：事件实现顺序的详细说明。

---

## 五、 物理层通信基础
### 1. 信息交互方式
* **单向通信**：又称单工，只能一方发送，一方接收。
* **双向交替通信**：又称半双工，双方均可发送，但不能同时发送。
* **双向同时通信**：又称全双工，双方可以同时发送和接收。

### 2. 信噪比与香农公式 (Shannon's Formula)
**信噪比**：信噪比是指信号功率与噪声功率的比值。在传输数据时，信号总是伴随着噪声。噪声是随机产生的，如果噪声太大，接收端就无法分辨原始信号。
**香农公式**：它推导出了在有随机热噪声的信道中，理论上的最大信息传输速率（信道容量）

$$
C = W \log_2 \left( 1 + \frac{S}{N} \right)
$$

* **香农公式表明**：信道的带宽或信噪比较大，信息的极限传输速率 $C$ 就越高。

### 3. 传输媒体分类
* **导引型传输媒体**：双绞线、同轴电缆、光缆。
* **非导引型传输媒体**：无线电波、微波、红外线。

---

## 六、 数据链路层核心技术
### 1. 三个基本问题
* **封装成帧**：在数据前后添加首部和尾部确定帧边界。
* **透明传输**：解决数据中出现与控制信息相同比特组合的问题。
* **差错检查**：循环冗余检验 **CRC**是一种检错方法，帧检验序列 **FCS**是添加在数据后面的冗余码。

### 2. 透明传输的实现
* **字节填充**：
    * 遇到 `0x7E` $\rightarrow$ 插入转义字符变成 `0x7D, 0x5E`。
    * 遇到 `0x7D` $\rightarrow$ 插入转义字符变成 `0x7D, 0x5D`。
* **零比特填充**：
    * 原理：在发送端，只要发现 **5个连续的1**，就立即在其后填充一个 **0**。

### 3. CSMA/CD 协议（以太网）
* **多点接入**：多台计算机连接在一根总线上。
* **载波监听**：发送前先监听信道（先听后发）。
* **碰撞检测**：发送过程中不断检测电平跳变（边听边发，碰后即停）。

### 4. 10BASE-T 含义
* **10**：代表数据率为 **10 Mb/s**。
* **BASE**：代表连接线上的信号是**基带信号**。
* **T**：代表**双绞线**。
